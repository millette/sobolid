const k={};function V(n){k.context=n}const un=(n,e)=>n===e,ee=Symbol("solid-proxy"),Ce={equals:un};let bt=Ot;const te={},G=1,ce=2,vt={owned:null,cleanups:null,context:null,owner:null},[hn,wt]=U(!1);var _=null;let p=null,$=null,be=null,M=null,I=null,Ze=0;function ne(n,e){e&&(_=e);const t=$,r=_,s=n.length===0?vt:{owned:null,cleanups:null,context:null,owner:r};_=s,$=null;try{return de(()=>n(()=>we(s)),!0)}finally{$=t,_=r}}function U(n,e){e=e?Object.assign({},Ce,e):Ce;const t={value:n,observers:null,observerSlots:null,pending:te,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(p&&p.running&&p.sources.has(t)?s=s(t.pending!==te?t.pending:t.tValue):s=s(t.pending!==te?t.pending:t.value)),et(t,s));return[Et.bind(t),r]}function Ne(n,e,t){const r=Ue(n,e,!0,G);fe(r)}function X(n,e,t){const r=Ue(n,e,!1,G);fe(r)}function fn(n,e,t){bt=Sn;const r=Ue(n,e,!1,G),s=se&&De(_,se.id);s&&(r.suspense=s),r.user=!0,I?I.push(r):queueMicrotask(()=>fe(r))}function x(n,e,t){t=t?Object.assign({},Ce,t):Ce;const r=Ue(n,e,!0,0);return r.pending=te,r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,fe(r),Et.bind(r)}function dn(n,e,t){arguments.length===2?typeof e=="object"&&(t=e,e=n,n=!0):arguments.length===1&&(e=n,n=!0),t||(t={}),t.globalRefetch!==!1&&(Ie||(Ie=new Set),Ie.add(j),_&&re(()=>Ie.delete(j)));const r=new Set,[s,i]=U(t.initialValue),[o,a]=U(void 0,{equals:!1}),[c,h]=U(!1),[l,f]=U();let m,g=null,y=null,S=!1,A=typeof n=="function";k.context&&""+k.context.id+k.context.count++;function O(b,w,D,B){return g===b&&(g=null,y&&b===y&&t.onHydrated&&t.onHydrated(B,{value:w}),y=null,f(m=D),p&&b&&S?(p.promises.delete(b),S=!1,de(()=>{p.running=!0,p.promises.size||(I.push.apply(I,p.effects),p.effects=[]),P(w)},!1)):P(w)),w}function P(b){le(()=>{i(()=>b),h(!1);for(const w of r.keys())w.decrement();r.clear()})}function R(){const b=se&&De(_,se.id),w=s();if(m)throw m;return $&&!$.user&&b&&Ne(()=>{o(),g&&(b.resolved&&p?p.promises.add(g):r.has(b)||(b.increment(),r.add(b)))}),w}function j(b=!0){f(m=void 0);const w=A?n():n;if(S=p&&p.running,w==null||w===!1){O(g,q(s));return}p&&g&&p.promises.delete(g);const D=y||q(()=>e(w,{value:s(),refetching:b}));return typeof D!="object"||!("then"in D)?(O(g,D),D):(g=D,le(()=>{h(!0),a()}),D.then(B=>O(D,B,void 0,w),B=>O(D,B,B)))}return Object.defineProperties(R,{loading:{get(){return c()}},error:{get(){return l()}}}),A?Ne(()=>j(!1)):j(!1),[R,{refetch:j,mutate:i}]}let Ie;function le(n){if(be)return n();let e;const t=be=[];try{e=n()}finally{be=null}return de(()=>{for(let r=0;r<t.length;r+=1){const s=t[r];if(s.pending!==te){const i=s.pending;s.pending=te,et(s,i)}}},!1),e}function q(n){let e,t=$;return $=null,e=n(),$=t,e}function _t(n,e,t){const r=Array.isArray(n);let s,i=t&&t.defer;return o=>{let a;if(r){a=[];for(let h=0;h<n.length;h++)a.push(n[h]())}else a=n();if(i){i=!1;return}const c=q(()=>e(a,s,o));return s=a,c}}function pn(n){fn(()=>q(n))}function re(n){return _===null||(_.cleanups===null?_.cleanups=[n]:_.cleanups.push(n)),n}function St(){return $}function Tt(){return _}function gn(n,e){const t=_;_=n;try{return de(e,!0)}finally{_=t}}function mn(n){if(p&&p.running)return n(),p.done;const e=$,t=_;return Promise.resolve().then(()=>{$=e,_=t;let r;return se&&(r=p||(p={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(s=>r.resolve=s)),r.running=!0),le(n),r?r.done:void 0})}function yn(){return[hn,mn]}function bn(n){I.push.apply(I,n),n.length=0}function ue(n){const e=Symbol("context");return{id:e,Provider:Tn(e),defaultValue:n}}function he(n){return De(_,n.id)||n.defaultValue}function vn(n){const e=x(n);return x(()=>nt(e()))}let se;function wn(){return se||(se=ue({}))}function Et(){const n=p&&p.running;if(this.sources&&(!n&&this.state||n&&this.tState)){const e=M;M=null,!n&&this.state===G||n&&this.tState===G?fe(this):tt(this),M=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return n&&p.sources.has(this)?this.tValue:this.value}function et(n,e,t){if(n.comparator){if(p&&p.running&&p.sources.has(n)){if(n.comparator(n.tValue,e))return e}else if(n.comparator(n.value,e))return e}if(be)return n.pending===te&&be.push(n),n.pending=e,e;let r=!1;return p?(r=p.running,(r||!t&&p.sources.has(n))&&(p.sources.add(n),n.tValue=e),r||(n.value=e)):n.value=e,n.observers&&n.observers.length&&de(()=>{for(let s=0;s<n.observers.length;s+=1){const i=n.observers[s];r&&p.disposed.has(i)||(i.pure?M.push(i):I.push(i),i.observers&&(r&&!i.tState||!r&&!i.state)&&kt(i),r?i.tState=G:i.state=G)}if(M.length>1e6)throw M=[],new Error},!1),e}function fe(n){if(!n.fn)return;we(n);const e=_,t=$,r=Ze;$=_=n,$t(n,p&&p.running&&p.sources.has(n)?n.tValue:n.value,r),p&&!p.running&&p.sources.has(n)&&queueMicrotask(()=>{de(()=>{p&&(p.running=!0),$t(n,n.tValue,r)},!1)}),$=t,_=e}function $t(n,e,t){let r;try{r=n.fn(e)}catch(s){At(s)}(!n.updatedAt||n.updatedAt<=t)&&(n.observers&&n.observers.length?et(n,r,!0):p&&p.running&&n.pure?(p.sources.add(n),n.tValue=r):n.value=r,n.updatedAt=t)}function Ue(n,e,t,r=G,s){const i={fn:n,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:_,context:null,pure:t};return p&&p.running&&(i.state=0,i.tState=r),_===null||_!==vt&&(p&&p.running&&_.pure?_.tOwned?_.tOwned.push(i):_.tOwned=[i]:_.owned?_.owned.push(i):_.owned=[i]),i}function ve(n){const e=p&&p.running;if(!e&&n.state!==G)return n.state=0;if(e&&n.tState!==G)return n.tState=0;if(n.suspense&&q(n.suspense.inFallback))return n.suspense.effects.push(n);const t=[n];for(;(n=n.owner)&&(!n.updatedAt||n.updatedAt<Ze);){if(e&&p.disposed.has(n))return;(!e&&n.state||e&&n.tState)&&t.push(n)}for(let r=t.length-1;r>=0;r--){if(n=t[r],e){let s=n,i=t[r+1];for(;(s=s.owner)&&s!==i;)if(p.disposed.has(s))return}if(!e&&n.state===G||e&&n.tState===G)fe(n);else if(!e&&n.state===ce||e&&n.tState===ce){const s=M;M=null,tt(n,t[0]),M=s}}}function de(n,e){if(M)return n();let t=!1;e||(M=[]),I?t=!0:I=[],Ze++;try{return n()}catch(r){At(r)}finally{_n(t)}}function _n(n){if(M&&(Ot(M),M=null),n)return;let e;if(p&&p.running){if(p.promises.size||p.queue.size){p.running=!1,p.effects.push.apply(p.effects,I),I=null,wt(!0);return}const t=p.sources;e=p.resolve,I.forEach(r=>{"tState"in r&&(r.state=r.tState),delete r.tState}),p=null,le(()=>{t.forEach(r=>{if(r.value=r.tValue,r.owned)for(let s=0,i=r.owned.length;s<i;s++)we(r.owned[s]);r.tOwned&&(r.owned=r.tOwned),delete r.tValue,delete r.tOwned,r.tState=0}),wt(!1)})}I.length?le(()=>{bt(I),I=null}):I=null,e&&e()}function Ot(n){for(let e=0;e<n.length;e++)ve(n[e])}function Sn(n){let e,t=0;for(e=0;e<n.length;e++){const s=n[e];s.user?n[t++]=s:ve(s)}const r=n.length;for(e=0;e<t;e++)ve(n[e]);for(e=r;e<n.length;e++)ve(n[e])}function tt(n,e){n.state=0;const t=p&&p.running;for(let r=0;r<n.sources.length;r+=1){const s=n.sources[r];s.sources&&(!t&&s.state===G||t&&s.tState===G?s!==e&&ve(s):(!t&&s.state===ce||t&&s.tState===ce)&&tt(s,e))}}function kt(n){const e=p&&p.running;for(let t=0;t<n.observers.length;t+=1){const r=n.observers[t];(!e&&!r.state||e&&!r.tState)&&(e?r.tState=ce:r.state=ce,r.pure?M.push(r):I.push(r),r.observers&&kt(r))}}function we(n){let e;if(n.sources)for(;n.sources.length;){const t=n.sources.pop(),r=n.sourceSlots.pop(),s=t.observers;if(s&&s.length){const i=s.pop(),o=t.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,t.observerSlots[r]=o)}}if(p&&p.running&&n.pure){if(n.tOwned){for(e=0;e<n.tOwned.length;e++)we(n.tOwned[e]);delete n.tOwned}xt(n,!0)}else if(n.owned){for(e=0;e<n.owned.length;e++)we(n.owned[e]);n.owned=null}if(n.cleanups){for(e=0;e<n.cleanups.length;e++)n.cleanups[e]();n.cleanups=null}p&&p.running?n.tState=0:n.state=0,n.context=null}function xt(n,e){if(e||(n.tState=0,p.disposed.add(n)),n.owned)for(let t=0;t<n.owned.length;t++)xt(n.owned[t])}function At(n){throw n}function De(n,e){return n&&(n.context&&n.context[e]!==void 0?n.context[e]:n.owner&&De(n.owner,e))}function nt(n){if(typeof n=="function"&&!n.length)return nt(n());if(Array.isArray(n)){const e=[];for(let t=0;t<n.length;t++){const r=nt(n[t]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return n}function Tn(n){return function(t){let r;return Ne(()=>r=q(()=>(_.context={[n]:t.value},vn(()=>t.children)))),r}}const En=Symbol("fallback");function Pt(n){for(let e=0;e<n.length;e++)n[e]()}function $n(n,e,t={}){let r=[],s=[],i=[],o=0,a=e.length>1?[]:null;return re(()=>Pt(i)),()=>{let c=n()||[],h,l;return q(()=>{let m=c.length,g,y,S,A,O,P,R,j,b;if(m===0)o!==0&&(Pt(i),i=[],r=[],s=[],o=0,a&&(a=[])),t.fallback&&(r=[En],s[0]=ne(w=>(i[0]=w,t.fallback())),o=1);else if(o===0){for(s=new Array(m),l=0;l<m;l++)r[l]=c[l],s[l]=ne(f);o=m}else{for(S=new Array(m),A=new Array(m),a&&(O=new Array(m)),P=0,R=Math.min(o,m);P<R&&r[P]===c[P];P++);for(R=o-1,j=m-1;R>=P&&j>=P&&r[R]===c[j];R--,j--)S[j]=s[R],A[j]=i[R],a&&(O[j]=a[R]);for(g=new Map,y=new Array(j+1),l=j;l>=P;l--)b=c[l],h=g.get(b),y[l]=h===void 0?-1:h,g.set(b,l);for(h=P;h<=R;h++)b=r[h],l=g.get(b),l!==void 0&&l!==-1?(S[l]=s[h],A[l]=i[h],a&&(O[l]=a[h]),l=y[l],g.set(b,l)):i[h]();for(l=P;l<m;l++)l in S?(s[l]=S[l],i[l]=A[l],a&&(a[l]=O[l],a[l](l))):s[l]=ne(f);s=s.slice(0,o=m),r=c.slice(0)}return s});function f(m){if(i[l]=m,a){const[g,y]=U(l);return a[l]=y,e(c[l],g)}return e(c[l])}}}function F(n,e){return q(()=>n(e))}function Be(){return!0}const Rt={get(n,e,t){return e===ee?t:n.get(e)},has(n,e){return n.has(e)},set:Be,deleteProperty:Be,getOwnPropertyDescriptor(n,e){return{configurable:!0,enumerable:!0,get(){return n.get(e)},set:Be,deleteProperty:Be}},ownKeys(n){return n.keys()}};function rt(n){return typeof n=="function"?n():n}function st(...n){return new Proxy({get(e){for(let t=n.length-1;t>=0;t--){const r=rt(n[t])[e];if(r!==void 0)return r}},has(e){for(let t=n.length-1;t>=0;t--)if(e in rt(n[t]))return!0;return!1},keys(){const e=[];for(let t=0;t<n.length;t++)e.push(...Object.keys(rt(n[t])));return[...new Set(e)]}},Rt)}function it(n,...e){const t=new Set(e.flat()),r=Object.getOwnPropertyDescriptors(n),s=e.map(i=>{const o={};for(let a=0;a<i.length;a++){const c=i[a];Object.defineProperty(o,c,r[c]?r[c]:{get(){return n[c]},set(){return!0}})}return o});return s.push(new Proxy({get(i){return t.has(i)?void 0:n[i]},has(i){return t.has(i)?!1:i in n},keys(){return Object.keys(n).filter(i=>!t.has(i))}},Rt)),s}function Qs(n){let e,t;const r=s=>{const i=k.context;if(i){const[a,c]=U();(t||(t=n())).then(h=>{V(i),c(()=>h.default),V()}),e=a}else if(e){const a=e();if(a)return a(s)}else{const[a]=dn(()=>(t||(t=n())).then(c=>c.default),{globalRefetch:!1});e=a}let o;return x(()=>(o=e())&&q(()=>{if(!i)return o(s);const a=k.context;V(i);const c=o(s);return V(a),c}))};return r.preload=()=>t||((t=n()).then(s=>e=()=>s.default),t),r}function Zs(n){const e="fallback"in n&&{fallback:()=>n.fallback};return x($n(()=>n.each,n.children,e||void 0))}function ot(n){let e=!1;const t=x(()=>n.when,void 0,{equals:(r,s)=>e?r===s:!r==!s});return x(()=>{const r=t();if(r){const s=n.children;return(e=typeof s=="function"&&s.length>0)?q(()=>s(r)):s}return n.fallback})}const On=ue();function ei(n){let e=0,t,r,s,i,o,a;const[c,h]=U(!1),l=wn(),f={increment:()=>{++e==1&&h(!0)},decrement:()=>{--e==0&&h(!1)},inFallback:c,effects:[],resolved:!1},m=Tt();if(k.context){const S=k.context.id+k.context.count;if(i=k.load(S),i){(typeof i!="object"||!("then"in i))&&(i=Promise.resolve(i));const[A,O]=U(void 0,{equals:!1});o=A,i.then(P=>{if(a=P)return O();k.gather(S),V(s),O(),V()})}}const g=he(On);g&&([t,r]=g.register(f.inFallback));let y;return re(()=>y&&y()),F(l.Provider,{value:f,get children(){return x(()=>{if(a)throw a;if(s=k.context,o)return o(),o=void 0;s&&i===void 0&&V();const S=q(()=>n.children);return x(()=>{const A=f.inFallback(),O=t?t():!0,P=r?r():!0;if(y&&y(),(!A||i!==void 0)&&O)return f.resolved=!0,s=i=void 0,bn(f.effects),S;if(!!P)return ne(R=>(y=R,s&&(V({id:s.id+"f",count:0}),s=void 0),n.fallback),m)})})}})}const kn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],xn=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...kn]),An=new Set(["innerHTML","textContent","innerText","children"]),Pn={className:"class",htmlFor:"for"},jt={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},Rn=new Set(["beforeinput","click","dblclick","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),jn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Cn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ti(n,e){return x(n,void 0,e?void 0:{equals:e})}function Ct(n,e,t){let r=t.length,s=e.length,i=r,o=0,a=0,c=e[s-1].nextSibling,h=null;for(;o<s||a<i;){if(e[o]===t[a]){o++,a++;continue}for(;e[s-1]===t[i-1];)s--,i--;if(s===o){const l=i<r?a?t[a-1].nextSibling:t[i-a]:c;for(;a<i;)n.insertBefore(t[a++],l)}else if(i===a)for(;o<s;)(!h||!h.has(e[o]))&&e[o].remove(),o++;else if(e[o]===t[i-1]&&t[a]===e[s-1]){const l=e[--s].nextSibling;n.insertBefore(t[a++],e[o++].nextSibling),n.insertBefore(t[--i],l),e[s]=t[i]}else{if(!h){h=new Map;let f=a;for(;f<i;)h.set(t[f],f++)}const l=h.get(e[o]);if(l!=null)if(a<l&&l<i){let f=o,m=1,g;for(;++f<s&&f<i&&!((g=h.get(e[f]))==null||g!==l+m);)m++;if(m>l-a){const y=e[o];for(;a<l;)n.insertBefore(t[a++],y)}else n.replaceChild(t[a++],e[o++])}else o++;else e[o++].remove()}}}const Nt="_$DX_DELEGATE";function ni(n,e,t){let r;return ne(s=>{r=s,e===document?n():Le(e,n(),e.firstChild?null:void 0,t)}),()=>{r(),e.textContent=""}}function Nn(n,e,t){const r=document.createElement("template");r.innerHTML=n;let s=r.content.firstChild;return t&&(s=s.firstChild),s}function It(n,e=window.document){const t=e[Nt]||(e[Nt]=new Set);for(let r=0,s=n.length;r<s;r++){const i=n[r];t.has(i)||(t.add(i),e.addEventListener(i,Hn))}}function Ut(n,e,t){t==null?n.removeAttribute(e):n.setAttribute(e,t)}function In(n,e,t,r){r==null?n.removeAttributeNS(e,t):n.setAttributeNS(e,t,r)}function Un(n,e,t,r){r?Array.isArray(t)?(n[`$$${e}`]=t[0],n[`$$${e}Data`]=t[1]):n[`$$${e}`]=t:Array.isArray(t)?n.addEventListener(e,s=>t[0](t[1],s)):n.addEventListener(e,t)}function Dn(n,e,t={}){const r=Object.keys(e||{}),s=Object.keys(t);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||e[a]||(Bt(n,a,!1),delete t[a])}for(i=0,o=r.length;i<o;i++){const a=r[i],c=!!e[a];!a||a==="undefined"||t[a]===c||!c||(Bt(n,a,!0),t[a]=c)}return t}function Bn(n,e,t={}){const r=n.style;if(e==null||typeof e=="string")return r.cssText=e;typeof t=="string"&&(t={});let s,i;for(i in t)e[i]==null&&r.removeProperty(i),delete t[i];for(i in e)s=e[i],s!==t[i]&&(r.setProperty(i,s),t[i]=s);return t}function Dt(n,e,t,r){typeof e=="function"?X(s=>Mt(n,e(),s,t,r)):Mt(n,e,void 0,t,r)}function Le(n,e,t,r){if(t!==void 0&&!r&&(r=[]),typeof e!="function")return pe(n,e,r,t);X(s=>pe(n,e(),s,t),r)}function Ln(n,e,t,r,s={}){for(const i in s)if(!(i in e)){if(i==="children")continue;Lt(n,i,null,s[i],t)}for(const i in e){if(i==="children"){r||pe(n,e.children);continue}const o=e[i];s[i]=Lt(n,i,o,s[i],t)}}function Mn(n){let e,t;return!k.context||!(e=k.registry.get(t=Gn()))?n.cloneNode(!0):(k.registry.delete(t),e)}function Fn(n){return n.toLowerCase().replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}function Bt(n,e,t){const r=e.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)n.classList.toggle(r[s],t)}function Lt(n,e,t,r,s){let i,o,a;if(e==="style")return Bn(n,t,r);if(e==="classList")return Dn(n,t,r);if(t===r)return r;if(e==="ref")t(n);else if(e.slice(0,3)==="on:")n.addEventListener(e.slice(3),t);else if(e.slice(0,10)==="oncapture:")n.addEventListener(e.slice(10),t,!0);else if(e.slice(0,2)==="on"){const c=e.slice(2).toLowerCase(),h=Rn.has(c);Un(n,c,t,h),h&&It([c])}else if((a=An.has(e))||!s&&(jt[e]||(o=xn.has(e)))||(i=n.nodeName.includes("-")))i&&!o&&!a?n[Fn(e)]=t:n[jt[e]||e]=t;else{const c=s&&e.indexOf(":")>-1&&Cn[e.split(":")[0]];c?In(n,c,e,t):Ut(n,Pn[e]||e,t)}return t}function Hn(n){const e=`$$${n.type}`;let t=n.composedPath&&n.composedPath()[0]||n.target;for(n.target!==t&&Object.defineProperty(n,"target",{configurable:!0,value:t}),Object.defineProperty(n,"currentTarget",{configurable:!0,get(){return t||document}});t!==null;){const r=t[e];if(r&&!t.disabled){const s=t[`${e}Data`];if(s!==void 0?r(s,n):r(n),n.cancelBubble)return}t=t.host&&t.host!==t&&t.host instanceof Node?t.host:t.parentNode}}function Mt(n,e,t={},r,s){return!s&&"children"in e&&X(()=>t.children=pe(n,e.children,t.children)),X(()=>Ln(n,e,r,!0,t)),t}function pe(n,e,t,r,s){for(k.context&&!t&&(t=[...n.childNodes]);typeof t=="function";)t=t();if(e===t)return t;const i=typeof e,o=r!==void 0;if(n=o&&t[0]&&t[0].parentNode||n,i==="string"||i==="number")if(i==="number"&&(e=e.toString()),o){let a=t[0];a&&a.nodeType===3?a.data=e:a=document.createTextNode(e),t=_e(n,t,r,a)}else t!==""&&typeof t=="string"?t=n.firstChild.data=e:t=n.textContent=e;else if(e==null||i==="boolean"){if(k.context)return t;t=_e(n,t,r)}else{if(i==="function")return X(()=>{let a=e();for(;typeof a=="function";)a=a();t=pe(n,a,t,r)}),()=>t;if(Array.isArray(e)){const a=[];if(at(a,e,s))return X(()=>t=pe(n,a,t,r,!0)),()=>t;if(k.context&&t&&t.length){for(let c=0;c<a.length;c++)if(a[c].parentNode)return t=a;return t}if(a.length===0){if(t=_e(n,t,r),o)return t}else Array.isArray(t)?t.length===0?Ft(n,a,r):Ct(n,t,a):t==null||t===""?Ft(n,a):Ct(n,o&&t||[n.firstChild],a);t=a}else if(e instanceof Node){if(k.context)return t=e.parentNode?o?[e]:e:t;if(Array.isArray(t)){if(o)return t=_e(n,t,r,e);_e(n,t,null,e)}else t==null||t===""||!n.firstChild?n.appendChild(e):n.replaceChild(e,n.firstChild);t=e}}return t}function at(n,e,t){let r=!1;for(let s=0,i=e.length;s<i;s++){let o=e[s],a;if(o instanceof Node)n.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))r=at(n,o)||r;else if((a=typeof o)==="string")n.push(document.createTextNode(o));else if(a==="function")if(t){for(;typeof o=="function";)o=o();r=at(n,Array.isArray(o)?o:[o])||r}else n.push(o),r=!0;else n.push(document.createTextNode(o.toString()))}return r}function Ft(n,e,t){for(let r=0,s=e.length;r<s;r++)n.insertBefore(e[r],t)}function _e(n,e,t,r){if(t===void 0)return n.textContent="";const s=r||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(s!==a){const c=a.parentNode===n;!i&&!o?c?n.replaceChild(s,a):n.insertBefore(s,t):c&&a.remove()}else i=!0}}else n.insertBefore(s,t);return[s]}function Gn(){const n=k.context;return`${n.id}${n.count++}`}const qn="http://www.w3.org/2000/svg";function Ht(n,e=!1){return e?document.createElementNS(qn,n):document.createElement(n)}function Jn(n){const{useShadow:e}=n,t=document.createTextNode(""),r=n.mount||document.body;function s(){if(k.context){const[i,o]=U(!1);return queueMicrotask(()=>o(!0)),()=>i()&&n.children}else return()=>n.children}if(r instanceof HTMLHeadElement){const[i,o]=U(!1),a=()=>o(!0);ne(c=>Le(r,()=>i()?c():s()(),null)),re(()=>{k.context?queueMicrotask(a):a()})}else{const i=Ht(n.isSVG?"g":"div",n.isSVG),o=e&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"host",{get(){return t.parentNode}}),Le(o,s()),r.appendChild(i),n.ref&&n.ref(i),re(()=>r.removeChild(i))}return t}function zn(n){const[e,t]=it(n,["component"]);return x(()=>{const r=e.component;switch(typeof r){case"function":return q(()=>r(t));case"string":const s=jn.has(r),i=k.context?Mn():Ht(r,s);return Dt(i,t,s),i}})}function Wn(n,e,t){return n.addEventListener(e,t),()=>n.removeEventListener(e,t)}function Kn([n,e],t,r){return[t?()=>t(n()):n,r?s=>e(r(s)):e]}function Vn(n,e,t,r){let s=!1;const i=a=>typeof a=="string"?{value:a}:a,o=Kn(U(i(n()),{equals:(a,c)=>a.value===c.value}),void 0,a=>(!s&&e(a),a));return t&&re(t((a=n())=>{s=!0,o[1](i(a)),s=!1})),{signal:o,utils:r}}function Xn(n){if(n){if(Array.isArray(n))return{signal:n}}else return{signal:U({value:""})};return n}function Yn(){return Vn(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:n,replace:e,scroll:t,state:r})=>{e?window.history.replaceState(r,"",n):window.history.pushState(r,"",n),t&&window.scrollTo(0,0)},n=>Wn(window,"popstate",()=>n()),{go:n=>window.history.go(n)})}const Qn=/^(?:[a-z0-9]+:)?\/\//i,Zn=/^\/+|\/+$|\s+/g;function Se(n){const e=n.replace(Zn,"");return e?e.startsWith("?")?e:"/"+e:""}function Me(n,e,t){if(Qn.test(e))return;const r=Se(n),s=t&&Se(t);let i="";return!s||e.charAt(0)==="/"?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,i+Se(e)||"/"}function er(n,e){if(n==null)throw new Error(e);return n}function Gt(n,e){const t=Se(e);if(t){const r=n.replace(/^\/+|\/*(\*.*)?$/g,"");return r?`/${r}${t}`:t}return Se(n)}function tr(n){const e={};return n.searchParams.forEach((t,r)=>{e[r]=t}),e}function nr(n,e){const[t,r]=n.split("/*",2),s=t.split("/").filter(Boolean),i=s.length;return o=>{const a=o.split("/").filter(Boolean),c=a.length-i;if(c<0||c>0&&r===void 0&&!e)return null;const h={path:i?"":"/",params:{}};for(let l=0;l<i;l++){const f=s[l],m=a[l];if(f[0]===":")h.params[f.slice(1)]=m;else if(f.localeCompare(m,void 0,{sensitivity:"base"})!==0)return null;h.path+=`/${m}`}return r&&(h.params[r]=c?a.slice(-c).join("/"):""),h}}function rr(n){const[e,t]=n.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(t===void 0?0:1))}function qt(n){const e=new Map,t=Tt();return new Proxy({},{get(r,s){return e.has(s)||gn(t,()=>e.set(s,x(()=>n()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(n())}})}const sr=100,Jt=ue(),Fe=ue(),Te=()=>er(he(Jt),"Make sure your app is wrapped in a <Router />"),He=()=>he(Fe)||Te().base,ir=n=>{const e=He();return x(()=>e.resolvePath(n()))},or=n=>{const e=Te();return x(()=>{const t=n();return t!==void 0?e.renderPath(t):t})},ar=()=>Te().navigatorFactory(),cr=()=>Te().location,ri=(n=0)=>{let e=He(),t=n;for(;t-- >0;){if(!e.parent)throw new RangeError(`Route ancestor ${n} is out of bounds`);e=e.parent}return e.data};function lr(n,e="",t){const{path:r,component:s,data:i,children:o}=n,a=!o||Array.isArray(o)&&!o.length,c=Gt(e,r),h=a?c:c.split("/*",1)[0];return{originalPath:r,pattern:h,element:s?()=>F(s,{}):()=>{const{element:l}=n;return l===void 0&&t?F(t,{}):l},preload:n.component?s.preload:n.preload,data:i,matcher:nr(h,!a)}}function ur(n,e=0){return{routes:n,score:rr(n[n.length-1])*1e4-e,matcher(t){const r=[];for(let s=n.length-1;s>=0;s--){const i=n[s],o=i.matcher(t);if(!o)return null;r.unshift({...o,route:i})}return r}}}function zt(n,e="",t,r=[],s=[]){const i=Array.isArray(n)?n:[n];for(let o=0,a=i.length;o<a;o++){const c=i[o];if(c&&typeof c=="object"&&c.hasOwnProperty("path")){const h=lr(c,e,t);if(r.push(h),c.children)zt(c.children,h.pattern,t,r,s);else{const l=ur([...r],s.length);s.push(l)}r.pop()}}return r.length?s:s.sort((o,a)=>a.score-o.score)}function hr(n,e){for(let t=0,r=n.length;t<r;t++){const s=n[t].matcher(e);if(s)return s}return[]}function fr(n,e){const t=new URL("http://sar"),r=x(c=>{const h=n();try{return new URL(h,t)}catch{return console.error(`Invalid path ${h}`),c}},t,{equals:(c,h)=>c.href===h.href}),s=x(()=>r().pathname),i=x(()=>r().search.slice(1)),o=x(()=>r().hash.slice(1)),a=x(()=>"");return{get pathname(){return s()},get search(){return i()},get hash(){return o()},get state(){return e()},get key(){return a()},query:qt(_t(i,()=>tr(r())))}}function dr(n,e="",t,r){const{signal:[s,i],utils:o={}}=Xn(n),a=Me("",e),c=void 0;if(a===void 0)throw new Error(`${a} is not a valid base path`);a&&!s().value&&i({value:a,replace:!0,scroll:!1});const[h,l]=yn(),[f,m]=U(s().value),[g,y]=U(s().state),S=fr(f,g),A=[],O={pattern:a,params:{},path:()=>a,outlet:()=>null,resolvePath(b){return Me(a,b)}};t&&(O.data=t({params:{},location:S,navigate:R(O)}));function P(b,w,D){q(()=>{if(typeof w=="number"){w&&(o.go?o.go(w):console.warn("Router integration does not support relative routing"));return}const{replace:B,resolve:Xe,scroll:Ye,state:H}={replace:!1,resolve:!0,scroll:!0,...D},oe=Xe?b.resolvePath(w):Me("",w);if(oe===void 0)throw new Error(`Path '${w}' is not a routable path`);if(A.length>=sr)throw new Error("Too many redirects");const ae=f();if(oe!==ae||H!==g()){const u=A.push({value:ae,replace:B,scroll:Ye,state:g});l(()=>{m(oe),y(H)}).then(()=>{A.length===u&&j({value:oe,state:H})})}})}function R(b){return b=b||he(Fe)||O,(w,D)=>P(b,w,D)}function j(b){const w=A[0];w&&((b.value!==w.value||b.state!==w.state)&&i({...b,replace:w.replace,scroll:w.scroll}),A.length=0)}return X(()=>{const{value:b,state:w}=s();b!==q(f)&&l(()=>{m(b),y(w)})}),{base:O,out:c,location:S,isRouting:h,renderPath:o.renderPath||(b=>b),navigatorFactory:R}}function pr(n,e,t,r){const{base:s,location:i,navigatorFactory:o}=n,{pattern:a,element:c,preload:h,data:l}=r().route,f=x(()=>r().path),m=qt(()=>r().params);h&&h();const g={parent:e,pattern:a,get child(){return t()},path:f,params:m,outlet:c,resolvePath(y){return Me(s.path(),y,f())}};return l&&(g.data=l({params:m,location:i,navigate:o(g)})),g}const gr=Nn("<a></a>"),si=n=>{const{source:e,url:t,base:r,data:s,out:i}=n,o=e||Yn(),a=dr(o,r,s);return F(Jt.Provider,{value:a,get children(){return n.children}})},mr=n=>{const e=Te(),t=He(),r=x(()=>zt(n.children,Gt(t.pattern,n.base||""),yr)),s=x(()=>hr(r(),e.location.pathname));e.out&&e.out.matches.push(s().map(({route:c,path:h,params:l})=>({originalPath:c.originalPath,pattern:c.pattern,path:h,params:l})));const i=[];let o;const a=x(_t(s,(c,h,l)=>{let f=h&&c.length===h.length;const m=[];for(let g=0,y=c.length;g<y;g++){const S=h&&h[g],A=c[g];l&&S&&A.route.pattern===S.route.pattern?m[g]=l[g]:(f=!1,i[g]&&i[g](),ne(O=>{i[g]=O,m[g]=pr(e,m[g-1]||t,()=>a()[g+1],()=>s()[g])}))}return i.splice(c.length).forEach(g=>g()),l&&f?l:(o=m[0],m)}));return F(ot,{get when(){return a()&&o},children:c=>F(Fe.Provider,{value:c,get children(){return c.outlet()}})})},ii=(n,e)=>()=>F(mr,{base:e,children:n}),yr=()=>{const n=He();return F(ot,{get when(){return n.child},children:e=>F(Fe.Provider,{value:e,get children(){return e.outlet()}})})};function br(n){const[,e]=it(n,["children","to","href","state","onClick"]),t=ar(),r=or(()=>n.to),s=i=>{const{onClick:o,to:a,target:c}=n;typeof o=="function"?o(i):o&&o[0](o[1],i),a!==void 0&&!i.defaultPrevented&&i.button===0&&(!c||c==="_self")&&!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)&&(i.preventDefault(),t(a,{resolve:!1,replace:n.replace||!1,scroll:!n.noScroll,state:n.state}))};return(()=>{const i=gr.cloneNode(!0);return i.$$click=s,Dt(i,e,!1,!0),Le(i,()=>n.children),X(()=>Ut(i,"href",r()||n.href)),i})()}function oi(n){n=st({activeClass:"active"},n);const[,e]=it(n,["activeClass","end"]),t=cr(),r=ir(()=>n.href),s=x(()=>{const i=r();if(i===void 0)return!1;const o=i.split(/[?#]/,1)[0].toLowerCase(),a=t.pathname.toLowerCase();return n.end?o===a:a.startsWith(o)});return F(br,st(e,{get to(){return r()},get classList(){return{[n.activeClass]:s()}},get["aria-current"](){return s()?"page":void 0}}))}It(["click"]);const vr="1.29.4",Wt={"X-Client-Info":`supabase-js/${vr}`},wr="supabase.auth.token";function _r(n){return n.replace(/\/$/,"")}const Sr=()=>typeof window!="undefined";var Tr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Er(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ct={exports:{}};(function(n,e){var t=typeof self!="undefined"?self:Tr,r=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(o){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function c(u){return u&&DataView.prototype.isPrototypeOf(u)}if(a.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(u){return u&&h.indexOf(Object.prototype.toString.call(u))>-1};function f(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()}function m(u){return typeof u!="string"&&(u=String(u)),u}function g(u){var d={next:function(){var v=u.shift();return{done:v===void 0,value:v}}};return a.iterable&&(d[Symbol.iterator]=function(){return d}),d}function y(u){this.map={},u instanceof y?u.forEach(function(d,v){this.append(v,d)},this):Array.isArray(u)?u.forEach(function(d){this.append(d[0],d[1])},this):u&&Object.getOwnPropertyNames(u).forEach(function(d){this.append(d,u[d])},this)}y.prototype.append=function(u,d){u=f(u),d=m(d);var v=this.map[u];this.map[u]=v?v+", "+d:d},y.prototype.delete=function(u){delete this.map[f(u)]},y.prototype.get=function(u){return u=f(u),this.has(u)?this.map[u]:null},y.prototype.has=function(u){return this.map.hasOwnProperty(f(u))},y.prototype.set=function(u,d){this.map[f(u)]=m(d)},y.prototype.forEach=function(u,d){for(var v in this.map)this.map.hasOwnProperty(v)&&u.call(d,this.map[v],v,this)},y.prototype.keys=function(){var u=[];return this.forEach(function(d,v){u.push(v)}),g(u)},y.prototype.values=function(){var u=[];return this.forEach(function(d){u.push(d)}),g(u)},y.prototype.entries=function(){var u=[];return this.forEach(function(d,v){u.push([v,d])}),g(u)},a.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function S(u){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}function A(u){return new Promise(function(d,v){u.onload=function(){d(u.result)},u.onerror=function(){v(u.error)}})}function O(u){var d=new FileReader,v=A(d);return d.readAsArrayBuffer(u),v}function P(u){var d=new FileReader,v=A(d);return d.readAsText(u),v}function R(u){for(var d=new Uint8Array(u),v=new Array(d.length),L=0;L<d.length;L++)v[L]=String.fromCharCode(d[L]);return v.join("")}function j(u){if(u.slice)return u.slice(0);var d=new Uint8Array(u.byteLength);return d.set(new Uint8Array(u)),d.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(u){this._bodyInit=u,u?typeof u=="string"?this._bodyText=u:a.blob&&Blob.prototype.isPrototypeOf(u)?this._bodyBlob=u:a.formData&&FormData.prototype.isPrototypeOf(u)?this._bodyFormData=u:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)?this._bodyText=u.toString():a.arrayBuffer&&a.blob&&c(u)?(this._bodyArrayBuffer=j(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||l(u))?this._bodyArrayBuffer=j(u):this._bodyText=u=Object.prototype.toString.call(u):this._bodyText="",this.headers.get("content-type")||(typeof u=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var u=S(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var u=S(this);if(u)return u;if(this._bodyBlob)return P(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(Xe)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(u){var d=u.toUpperCase();return w.indexOf(d)>-1?d:u}function B(u,d){d=d||{};var v=d.body;if(u instanceof B){if(u.bodyUsed)throw new TypeError("Already read");this.url=u.url,this.credentials=u.credentials,d.headers||(this.headers=new y(u.headers)),this.method=u.method,this.mode=u.mode,this.signal=u.signal,!v&&u._bodyInit!=null&&(v=u._bodyInit,u.bodyUsed=!0)}else this.url=String(u);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new y(d.headers)),this.method=D(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})};function Xe(u){var d=new FormData;return u.trim().split("&").forEach(function(v){if(v){var L=v.split("="),N=L.shift().replace(/\+/g," "),T=L.join("=").replace(/\+/g," ");d.append(decodeURIComponent(N),decodeURIComponent(T))}}),d}function Ye(u){var d=new y,v=u.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(L){var N=L.split(":"),T=N.shift().trim();if(T){var je=N.join(":").trim();d.append(T,je)}}),d}b.call(B.prototype);function H(u,d){d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new y(d.headers),this.url=d.url||"",this._initBody(u)}b.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},H.error=function(){var u=new H(null,{status:0,statusText:""});return u.type="error",u};var oe=[301,302,303,307,308];H.redirect=function(u,d){if(oe.indexOf(d)===-1)throw new RangeError("Invalid status code");return new H(null,{status:d,headers:{location:u}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(d,v){this.message=d,this.name=v;var L=Error(d);this.stack=L.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ae(u,d){return new Promise(function(v,L){var N=new B(u,d);if(N.signal&&N.signal.aborted)return L(new o.DOMException("Aborted","AbortError"));var T=new XMLHttpRequest;function je(){T.abort()}T.onload=function(){var ye={status:T.status,statusText:T.statusText,headers:Ye(T.getAllResponseHeaders()||"")};ye.url="responseURL"in T?T.responseURL:ye.headers.get("X-Request-URL");var Qe="response"in T?T.response:T.responseText;v(new H(Qe,ye))},T.onerror=function(){L(new TypeError("Network request failed"))},T.ontimeout=function(){L(new TypeError("Network request failed"))},T.onabort=function(){L(new o.DOMException("Aborted","AbortError"))},T.open(N.method,N.url,!0),N.credentials==="include"?T.withCredentials=!0:N.credentials==="omit"&&(T.withCredentials=!1),"responseType"in T&&a.blob&&(T.responseType="blob"),N.headers.forEach(function(ye,Qe){T.setRequestHeader(Qe,ye)}),N.signal&&(N.signal.addEventListener("abort",je),T.onreadystatechange=function(){T.readyState===4&&N.signal.removeEventListener("abort",je)}),T.send(typeof N._bodyInit=="undefined"?null:N._bodyInit)})}return ae.polyfill=!0,i.fetch||(i.fetch=ae,i.Headers=y,i.Request=B,i.Response=H),o.Headers=y,o.Request=B,o.Response=H,o.fetch=ae,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,n.exports=e})(ct,ct.exports);var Ge=Er(ct.exports),Ee=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{h(r.next(l))}catch(f){o(f)}}function c(l){try{h(r.throw(l))}catch(f){o(f)}}function h(l){l.done?i(l.value):s(l.value).then(a,c)}h((r=r.apply(n,e||[])).next())})};const $r=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Or=(n,e)=>{if(typeof n.json!="function")return e(n);n.json().then(t=>e({message:$r(t),status:(n==null?void 0:n.status)||500}))},kr=(n,e,t)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||(r.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(t)),r};function qe(n=Ge,e,t,r,s){return Ee(this,void 0,void 0,function*(){return new Promise((i,o)=>{n(t,kr(e,r,s)).then(a=>{if(!a.ok)throw a;return(r==null?void 0:r.noResolveJson)?i:a.json()}).then(a=>i(a)).catch(a=>Or(a,o))})})}function lt(n,e,t){return Ee(this,void 0,void 0,function*(){return qe(n,"GET",e,t)})}function z(n,e,t,r){return Ee(this,void 0,void 0,function*(){return qe(n,"POST",e,r,t)})}function Kt(n,e,t,r){return Ee(this,void 0,void 0,function*(){return qe(n,"PUT",e,r,t)})}function xr(n,e,t,r){return Ee(this,void 0,void 0,function*(){return qe(n,"DELETE",e,r,t)})}const Ar="1.22.0",Pr="http://localhost:9999",Rr={"X-Client-Info":`gotrue-js/${Ar}`},$e="supabase.auth.token",jr={name:"sb:token",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};function Cr(n,e,t){const r=t||{},s=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!i.test(n))throw new TypeError("argument name is invalid");const o=s(e);if(o&&!i.test(o))throw new TypeError("argument val is invalid");let a=n+"="+o;if(r.maxAge!=null){const c=r.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(c)}if(r.domain){if(!i.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!i.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function Nr(n){if(!n||!n.headers||!n.headers.host)throw new Error('The "host" request header is not available');const e=n.headers.host.indexOf(":")>-1&&n.headers.host.split(":")[0]||n.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function Ir(n,e){var t,r,s;return Cr(n.name,n.value,{maxAge:n.maxAge,expires:new Date(Date.now()+n.maxAge*1e3),httpOnly:!0,secure:e,path:(t=n.path)!==null&&t!==void 0?t:"/",domain:(r=n.domain)!==null&&r!==void 0?r:"",sameSite:(s=n.sameSite)!==null&&s!==void 0?s:"lax"})}function Ur(n,e,t){const r=t.map(i=>Ir(i,Nr(n))),s=e.getHeader("Set-Cookie");s&&(s instanceof Array?Array.prototype.push.apply(r,s):typeof s=="string"&&r.push(s)),e.setHeader("Set-Cookie",r)}function Vt(n,e,t){Ur(n,e,[t])}function Dr(n,e,t){Vt(n,e,{name:t,value:"",maxAge:-1})}function Oe(n){return Math.round(Date.now()/1e3)+n}function Br(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Y=()=>typeof window!="undefined";function Q(n,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),n=n.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+n+"(=([^&#]*)|&|#|$)"),s=r.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}var C=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{h(r.next(l))}catch(f){o(f)}}function c(l){try{h(r.throw(l))}catch(f){o(f)}}function h(l){l.done?i(l.value):s(l.value).then(a,c)}h((r=r.apply(n,e||[])).next())})};class Lr{constructor({url:e="",headers:t={},cookieOptions:r,fetch:s}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},jr),r),this.fetch=s}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}cookieName(){var e;return(e=this.cookieOptions.name)!==null&&e!==void 0?e:""}getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];return(t==null?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(t==null?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),`${this.url}/authorize?${r.join("&")}`}signUpWithEmail(e,t,r={}){return C(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);let i="";r.redirectTo&&(i="?redirect_to="+encodeURIComponent(r.redirectTo));const o=yield z(this.fetch,`${this.url}/signup${i}`,{email:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:s}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=Oe(o.expires_in)),{data:a,error:null}}catch(s){return{data:null,error:s}}})}signInWithEmail(e,t,r={}){return C(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);let i="?grant_type=password";r.redirectTo&&(i+="&redirect_to="+encodeURIComponent(r.redirectTo));const o=yield z(this.fetch,`${this.url}/token${i}`,{email:e,password:t},{headers:s}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=Oe(o.expires_in)),{data:a,error:null}}catch(s){return{data:null,error:s}}})}signUpWithPhone(e,t,r={}){return C(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers),i=yield z(this.fetch,`${this.url}/signup`,{phone:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:s}),o=Object.assign({},i);return o.expires_in&&(o.expires_at=Oe(i.expires_in)),{data:o,error:null}}catch(s){return{data:null,error:s}}})}signInWithPhone(e,t){return C(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers),s="?grant_type=password",i=yield z(this.fetch,`${this.url}/token${s}`,{phone:e,password:t},{headers:r}),o=Object.assign({},i);return o.expires_in&&(o.expires_at=Oe(i.expires_in)),{data:o,error:null}}catch(r){return{data:null,error:r}}})}sendMagicLinkEmail(e,t={}){return C(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let s="";return t.redirectTo&&(s+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield z(this.fetch,`${this.url}/magiclink${s}`,{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}sendMobileOTP(e,t={}){return C(this,void 0,void 0,function*(){try{let r=Object.assign({},this.headers);return{data:yield z(this.fetch,`${this.url}/otp`,{phone:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}signOut(e){return C(this,void 0,void 0,function*(){try{return yield z(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(t){return{error:t}}})}verifyMobileOTP(e,t,r={}){return C(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);return{data:yield z(this.fetch,`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:s}),error:null}}catch(s){return{data:null,error:s}}})}inviteUserByEmail(e,t={}){return C(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let s="";return t.redirectTo&&(s+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield z(this.fetch,`${this.url}/invite${s}`,{email:e,data:t.data},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}resetPasswordForEmail(e,t={}){return C(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let s="";return t.redirectTo&&(s+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield z(this.fetch,`${this.url}/recover${s}`,{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}refreshAccessToken(e){return C(this,void 0,void 0,function*(){try{const t=yield z(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),r=Object.assign({},t);return r.expires_in&&(r.expires_at=Oe(t.expires_in)),{data:r,error:null}}catch(t){return{data:null,error:t}}})}setAuthCookie(e,t){var r;e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:s,session:i}=e.body;if(!s)throw new Error("Auth event missing!");if(s==="SIGNED_IN"){if(!i)throw new Error("Auth session missing!");Vt(e,t,{name:this.cookieName(),value:i.access_token,domain:this.cookieOptions.domain,maxAge:(r=this.cookieOptions.lifetime)!==null&&r!==void 0?r:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}s==="SIGNED_OUT"&&Dr(e,t,this.cookieName()),t.status(200).json({})}generateLink(e,t,r={}){return C(this,void 0,void 0,function*(){try{return{data:yield z(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(s){return{data:null,error:s}}})}createUser(e){return C(this,void 0,void 0,function*(){try{const t=yield z(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}listUsers(){return C(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}getUserById(e){return C(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}getUserByCookie(e){return C(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");const t=e.cookies[this.cookieName()];if(!t)throw new Error("No cookie found!");const{user:r,error:s}=yield this.getUser(t);if(s)throw s;return{token:t,user:r,data:r,error:null}}catch(t){return{token:null,user:null,data:null,error:t}}})}updateUserById(e,t){return C(this,void 0,void 0,function*(){try{const r=yield Kt(this.fetch,`${this.url}/admin/users/${e}`,t,{headers:this.headers});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}deleteUser(e){return C(this,void 0,void 0,function*(){try{const t=yield xr(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}getUser(e){return C(this,void 0,void 0,function*(){try{const t=yield lt(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}updateUser(e,t){return C(this,void 0,void 0,function*(){try{const r=yield Kt(this.fetch,`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}}function Mr(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}var W=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{h(r.next(l))}catch(f){o(f)}}function c(l){try{h(r.throw(l))}catch(f){o(f)}}function h(l){l.done?i(l.value):s(l.value).then(a,c)}h((r=r.apply(n,e||[])).next())})};Mr();const Fr={url:Pr,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:Rr};class Hr{constructor(e){this.stateChangeEmitters=new Map;const t=Object.assign(Object.assign({},Fr),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.multiTab=t.multiTab,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new Lr({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions,fetch:t.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),t.detectSessionInUrl&&Y()&&!!Q("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:r})=>{r&&console.error("Error getting session from URL.",r)})}signUp({email:e,password:t,phone:r},s={}){return W(this,void 0,void 0,function*(){try{this._removeSession();const{data:i,error:o}=r&&t?yield this.api.signUpWithPhone(r,t,{data:s.data,captchaToken:s.captchaToken}):yield this.api.signUpWithEmail(e,t,{redirectTo:s.redirectTo,data:s.data,captchaToken:s.captchaToken});if(o)throw o;if(!i)throw"An error occurred on sign up.";let a=null,c=null;return i.access_token&&(a=i,c=a.user,this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(c=i),{user:c,session:a,error:null}}catch(i){return{user:null,session:null,error:i}}})}signIn({email:e,phone:t,password:r,refreshToken:s,provider:i},o={}){return W(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!r){const{error:a}=yield this.api.sendMagicLinkEmail(e,{redirectTo:o.redirectTo,captchaToken:o.captchaToken});return{user:null,session:null,error:a}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:o.redirectTo});if(t&&!r){const{error:a}=yield this.api.sendMobileOTP(t,{captchaToken:o.captchaToken});return{user:null,session:null,error:a}}if(t&&r)return this._handlePhoneSignIn(t,r);if(s){const{error:a}=yield this._callRefreshToken(s);if(a)throw a;return{user:this.currentUser,session:this.currentSession,error:null}}if(i)return this._handleProviderSignIn(i,{redirectTo:o.redirectTo,scopes:o.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(a){return{user:null,session:null,error:a}}})}verifyOTP({phone:e,token:t},r={}){return W(this,void 0,void 0,function*(){try{this._removeSession();const{data:s,error:i}=yield this.api.verifyMobileOTP(e,t,r);if(i)throw i;if(!s)throw"An error occurred on token verification.";let o=null,a=null;return s.access_token&&(o=s,a=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),s.id&&(a=s),{user:a,session:o,error:null}}catch(s){return{user:null,session:null,error:s}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return W(this,void 0,void 0,function*(){try{if(!((e=this.currentSession)===null||e===void 0?void 0:e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(t){return{data:null,user:null,error:t}}})}update(e){var t;return W(this,void 0,void 0,function*(){try{if(!((t=this.currentSession)===null||t===void 0?void 0:t.access_token))throw new Error("Not logged in.");const{user:r,error:s}=yield this.api.updateUser(this.currentSession.access_token,e);if(s)throw s;if(!r)throw Error("Invalid user data.");const i=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(r){return{data:null,user:null,error:r}}})}setSession(e){return W(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null})}catch(t){return{error:t,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return W(this,void 0,void 0,function*(){try{if(!Y())throw new Error("No browser detected.");const t=Q("error_description");if(t)throw new Error(t);const r=Q("provider_token"),s=Q("access_token");if(!s)throw new Error("No access_token detected.");const i=Q("expires_in");if(!i)throw new Error("No expires_in detected.");const o=Q("refresh_token");if(!o)throw new Error("No refresh_token detected.");const a=Q("token_type");if(!a)throw new Error("No token_type detected.");const h=Math.round(Date.now()/1e3)+parseInt(i),{user:l,error:f}=yield this.api.getUser(s);if(f)throw f;const m={provider_token:r,access_token:s,expires_in:parseInt(i),expires_at:h,refresh_token:o,token_type:a,user:l};if(e==null?void 0:e.storeSession){this._saveSession(m);const g=Q("type");this._notifyAllSubscribers("SIGNED_IN"),g==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:m,error:null}}catch(t){return{data:null,error:t}}})}signOut(){var e;return W(this,void 0,void 0,function*(){const t=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:r}=yield this.api.signOut(t);if(r)return{error:r}}return{error:null}})}onAuthStateChange(e){try{const t=Br(),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:r,error:null}}catch(t){return{data:null,error:t}}}_handleEmailSignIn(e,t,r={}){var s,i;return W(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo});return a||!o?{data:null,user:null,session:null,error:a}:((((s=o==null?void 0:o.user)===null||s===void 0?void 0:s.confirmed_at)||((i=o==null?void 0:o.user)===null||i===void 0?void 0:i.email_confirmed_at))&&(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),{data:o,user:o.user,session:o,error:null})}catch(o){return{data:null,user:null,session:null,error:o}}})}_handlePhoneSignIn(e,t){var r;return W(this,void 0,void 0,function*(){try{const{data:s,error:i}=yield this.api.signInWithPhone(e,t);return i||!s?{data:null,user:null,session:null,error:i}:(((r=s==null?void 0:s.user)===null||r===void 0?void 0:r.phone_confirmed_at)&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null})}catch(s){return{data:null,user:null,session:null,error:s}}})}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return Y()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(s){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:s}}}_recoverSession(){var e;try{const t=Y()&&((e=this.localStorage)===null||e===void 0?void 0:e.getItem($e));if(!t||typeof t!="string")return null;const r=JSON.parse(t),{currentSession:s,expiresAt:i}=r,o=Math.round(Date.now()/1e3);i>=o&&(s==null?void 0:s.user)&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN"))}catch(t){console.log("error",t)}}_recoverAndRefresh(){return W(this,void 0,void 0,function*(){try{const e=Y()&&(yield this.localStorage.getItem($e));if(!e)return null;const t=JSON.parse(e),{currentSession:r,expiresAt:s}=t,i=Math.round(Date.now()/1e3);if(s<i)if(this.autoRefreshToken&&r.refresh_token){const{error:o}=yield this._callRefreshToken(r.refresh_token);o&&(console.log(o.message),yield this._removeSession())}else this._removeSession();else!r||!r.user?(console.log("Current session is missing data."),this._removeSession()):(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){return console.error(e),null}})}_callRefreshToken(e){var t;return e===void 0&&(e=(t=this.currentSession)===null||t===void 0?void 0:t.refresh_token),W(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:r,error:s}=yield this.api.refreshAccessToken(e);if(s)throw s;if(!r)throw Error("Invalid session data.");return this._saveSession(r),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:r,error:null}}catch(r){return{data:null,error:r}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(t=>t.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const r=Math.round(Date.now()/1e3),s=t-r,i=s>60?60:.5;this._startAutoRefreshToken((s-i)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};Y()&&this.localStorage.setItem($e,JSON.stringify(t))}_removeSession(){return W(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),Y()&&(yield this.localStorage.removeItem($e))})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!Y()||!(window==null?void 0:window.addEventListener))return!1;try{window==null||window.addEventListener("storage",e=>{var t;if(e.key===$e){const r=JSON.parse(String(e.newValue));((t=r==null?void 0:r.currentSession)===null||t===void 0?void 0:t.access_token)?(this._recoverAndRefresh(),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}}class Gr extends Hr{constructor(e){super(e)}}var qr=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{h(r.next(l))}catch(f){o(f)}}function c(l){try{h(r.throw(l))}catch(f){o(f)}}function h(l){l.done?i(l.value):s(l.value).then(a,c)}h((r=r.apply(n,e||[])).next())})};class ut{constructor(e){this.shouldThrowOnError=!1,Object.assign(this,e),this.fetch=e.fetch||Ge}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){typeof this.schema=="undefined"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>qr(this,void 0,void 0,function*(){var i,o,a;let c=null,h=null,l=null;if(s.ok){const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!m){const S=yield s.text();S&&(this.headers.Accept==="text/csv"?h=S:h=JSON.parse(S))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(l=parseInt(y[1]))}else{const m=yield s.text();try{c=JSON.parse(m)}catch{c={message:m}}if(c&&this.shouldThrowOnError)throw c}return{error:c,data:h,count:l,status:s.status,statusText:s.statusText,body:h}}));return this.shouldThrowOnError||(r=r.catch(s=>({error:{message:`FetchError: ${s.message}`,details:"",hint:"",code:s.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),r.then(e,t)}}class ht extends ut{select(e="*"){let t=!1;const r=e.split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:s}={}){const i=typeof s=="undefined"?"order":`${s}.order`,o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=typeof t=="undefined"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const s=typeof r=="undefined"?"offset":`${r}.offset`,i=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new ht(this);return e.then=(t,r)=>this.then(s=>{var i,o;return((o=(i=s.error)===null||i===void 0?void 0:i.details)===null||o===void 0?void 0:o.includes("Results contain 0 rows"))?t({error:null,data:null,count:s.count,status:200,statusText:"OK",body:null}):t(s)},r),e}csv(){return this.headers.Accept="text/csv",this}}class ge extends ht{constructor(){super(...arguments);this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=typeof t=="undefined"?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s=null}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${i}fts${o}.${t}`),this}fts(e,t,{config:r}={}){const s=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${s}.${t}`),this}plfts(e,t,{config:r}={}){const s=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${s}.${t}`),this}phfts(e,t,{config:r}={}){const s=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${s}.${t}`),this}wfts(e,t,{config:r}={}){const s=typeof r=="undefined"?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${s}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach(t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)}),this}}class Xt extends ut{constructor(e,{headers:t={},schema:r,fetch:s}={}){super({fetch:s});this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let s=!1;const i=e.split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new ge(this)}insert(e,{upsert:t=!1,onConflict:r,returning:s="representation",count:i=null}={}){this.method="POST";const o=[`return=${s}`];if(t&&o.push("resolution=merge-duplicates"),t&&r!==void 0&&this.url.searchParams.set("on_conflict",r),this.body=e,i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(a.length>0){const c=[...new Set(a)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new ge(this)}upsert(e,{onConflict:t,returning:r="representation",count:s=null,ignoreDuplicates:i=!1}={}){this.method="POST";const o=[`resolution=${i?"ignore":"merge"}-duplicates`,`return=${r}`];return t!==void 0&&this.url.searchParams.set("on_conflict",t),this.body=e,s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new ge(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const s=[`return=${t}`];return this.body=e,r&&s.push(`count=${r}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new ge(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ge(this)}}class Jr extends ut{constructor(e,{headers:t={},schema:r,fetch:s}={}){super({fetch:s});this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{head:t=!1,count:r=null}={}){return t?(this.method="HEAD",e&&Object.entries(e).forEach(([s,i])=>{this.url.searchParams.append(s,i)})):(this.method="POST",this.body=e),r&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${r}`:this.headers.Prefer=`count=${r}`),new ge(this)}}const zr="0.36.0",Wr={"X-Client-Info":`postgrest-js/${zr}`};class Kr{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Wr),t),this.schema=r,this.fetch=s}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new Xt(t,{headers:this.headers,schema:this.schema,fetch:this.fetch})}rpc(e,t,{head:r=!1,count:s=null}={}){const i=`${this.url}/rpc/${e}`;return new Jr(i,{headers:this.headers,schema:this.schema,fetch:this.fetch}).rpc(t,{head:r,count:s})}}var E;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(E||(E={}));const Yt=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Vr(o,n,e,s),i),{})},Vr=(n,e,t,r)=>{const s=e.find(a=>a.name===n),i=s==null?void 0:s.type,o=t[n];return i&&!r.includes(i)?Qt(i,o):ft(o)},Qt=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Zr(e,t)}switch(n){case E.bool:return Xr(e);case E.float4:case E.float8:case E.int2:case E.int4:case E.int8:case E.numeric:case E.oid:return Yr(e);case E.json:case E.jsonb:return Qr(e);case E.timestamp:return es(e);case E.abstime:case E.date:case E.daterange:case E.int4range:case E.int8range:case E.money:case E.reltime:case E.text:case E.time:case E.timestamptz:case E.timetz:case E.tsrange:case E.tstzrange:return ft(e);default:return ft(e)}},ft=n=>n,Xr=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Yr=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Qr=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Zr=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i;const o=n.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Qt(e,a))}return n},es=n=>typeof n=="string"?n.replace(" ","T"):n,ts="1.3.5",ns={"X-Client-Info":`realtime-js/${ts}`},rs="1.0.0",Zt=1e4,ss=1e3;var ke;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ke||(ke={}));var J;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(J||(J={}));var K;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(K||(K={}));var dt;(function(n){n.websocket="websocket"})(dt||(dt={}));class en{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class pt{constructor(e,t,r={},s=Zt){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class is{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=J.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new pt(this,K.join,this.params,this.timeout),this.rejoinTimer=new en(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=J.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=J.closed,this.socket.remove(this)}),this.onError(s=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this.on(K.reply,(s,i)=>{this.trigger(this.replyEventName(i),s)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(K.close,e)}onError(e){this.on(K.error,t=>e(t))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter(t=>t.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pt(this,e,t,r);return this.canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=J.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(K.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new pt(this,K.leave,{},e);return r.receive("ok",()=>t()).receive("timeout",()=>t()),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=J.joining,this.joinPush.resend(e))}trigger(e,t,r){let{close:s,error:i,leave:o,join:a}=K;if(r&&[s,i,o,a].indexOf(e)>=0&&r!==this.joinRef())return;let h=this.onMessage(e,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(l=>l.event==="*"?e===(t==null?void 0:t.type):l.event===e).map(l=>l.callback(h,r))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===J.closed}isErrored(){return this.state===J.errored}isJoined(){return this.state===J.joined}isJoining(){return this.state===J.joining}isLeaving(){return this.state===J.leaving}}const os="websocket",as="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",cs=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],ls="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",us=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],hs="1.0.34",fs={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},ds="https://github.com/theturtle32/WebSocket-Node",ps={node:">=4.0.0"},gs={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},ms={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},ys={verbose:!1},bs={test:"tape test/unit/*.js",gulp:"gulp"},vs="index",ws={lib:"./lib"},_s="lib/browser.js",Ss="Apache-2.0";var Ts={name:os,description:as,keywords:cs,author:ls,contributors:us,version:hs,repository:fs,homepage:ds,engines:ps,dependencies:gs,devDependencies:ms,config:ys,scripts:bs,main:vs,directories:ws,browser:_s,license:Ss},Es=Ts.version,ie;if(typeof globalThis=="object")ie=globalThis;else try{ie=require("es5-ext/global")}catch{}finally{if(!ie&&typeof window!="undefined"&&(ie=window),!ie)throw new Error("Could not determine global this")}var xe=ie.WebSocket||ie.MozWebSocket,$s=Es;function tn(n,e){var t;return e?t=new xe(n,e):t=new xe(n),t}xe&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(n){Object.defineProperty(tn,n,{get:function(){return xe[n]}})});var Os={w3cwebsocket:xe?tn:null,version:$s};class ks{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const h=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:h}}}var xs=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{h(r.next(l))}catch(f){o(f)}}function c(l){try{h(r.throw(l))}catch(f){o(f)}}function h(l){l.done?i(l.value):s(l.value).then(a,c)}h((r=r.apply(n,e||[])).next())})};const As=()=>{};class Ps{constructor(e,t){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=ns,this.params={},this.timeout=Zt,this.transport=Os.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=As,this.conn=null,this.sendBuffer=[],this.serializer=new ks,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${dt.websocket}`,(t==null?void 0:t.params)&&(this.params=t.params),(t==null?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(t==null?void 0:t.timeout)&&(this.timeout=t.timeout),(t==null?void 0:t.logger)&&(this.logger=t.logger),(t==null?void 0:t.transport)&&(this.transport=t.transport),(t==null?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),(t==null?void 0:t.longpollerTimeout)&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=(t==null?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=(t==null?void 0:t.encode)?t.encode:(r,s)=>s(JSON.stringify(r)),this.decode=(t==null?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new en(()=>xs(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise((r,s)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(i){r({error:i,data:!1})}})}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case ke.connecting:return"connecting";case ke.open:return"open";case ke.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}channel(e,t={}){let r=new is(e,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:i,ref:o}=t;o&&o===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:s===(i==null?void 0:i.type)&&this._resetHeartbeat(),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a.isMember(r)).forEach(a=>a.trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rs}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e;try{this.channels.forEach(t=>{e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(K.access_token,{access_token:e})})}catch(t){console.log("setAuth error",t)}}leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r.isJoined()||r.isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(K.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs)}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ss,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Rs{constructor(e,t,r,s){const i={},o=s==="*"?`realtime:${r}`:`realtime:${r}:${s}`,a=t.Authorization.split(" ")[1];a&&(i.user_token=a),this.subscription=e.channel(o,i)}getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Yt(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Yt(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,r=>{let s={schema:r.schema,table:r.table,commit_timestamp:r.commit_timestamp,eventType:r.type,new:{},old:{},errors:r.errors};s=Object.assign(Object.assign({},s),this.getPayloadRecords(r)),t(s)}),this}subscribe(e=()=>{}){return this.subscription.onError(t=>e("SUBSCRIPTION_ERROR",t)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",t=>e("SUBSCRIPTION_ERROR",t)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class js extends Xt{constructor(e,{headers:t={},schema:r,realtime:s,table:i,fetch:o}){super(e,{headers:t,schema:r,fetch:o});this._subscription=null,this._realtime=s,this._headers=t,this._schema=r,this._table=i}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new Rs(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}var Ae=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{h(r.next(l))}catch(f){o(f)}}function c(l){try{h(r.throw(l))}catch(f){o(f)}}function h(l){l.done?i(l.value):s(l.value).then(a,c)}h((r=r.apply(n,e||[])).next())})};const Cs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ns=(n,e)=>{if(typeof n.json!="function")return e(n);n.json().then(t=>e({message:Cs(t),status:(n==null?void 0:n.status)||500}))},Is=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};function Je(n=Ge,e,t,r,s,i){return Ae(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,Is(e,r,s,i)).then(c=>{if(!c.ok)throw c;return(r==null?void 0:r.noResolveJson)?o(c):c.json()}).then(c=>o(c)).catch(c=>Ns(c,a))})})}function gt(n,e,t,r){return Ae(this,void 0,void 0,function*(){return Je(n,"GET",e,t,r)})}function Pe(n,e,t,r,s){return Ae(this,void 0,void 0,function*(){return Je(n,"POST",e,r,s,t)})}function Us(n,e,t,r,s){return Ae(this,void 0,void 0,function*(){return Je(n,"PUT",e,r,s,t)})}function nn(n,e,t,r,s){return Ae(this,void 0,void 0,function*(){return Je(n,"DELETE",e,r,s,t)})}const Ds="0.0.0",Bs={"X-Client-Info":`storage-js/${Ds}`};var me=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{h(r.next(l))}catch(f){o(f)}}function c(l){try{h(r.throw(l))}catch(f){o(f)}}function h(l){l.done?i(l.value):s(l.value).then(a,c)}h((r=r.apply(n,e||[])).next())})};class Ls{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Bs),t),this.fetch=r}listBuckets(){return me(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}createBucket(e,t={public:!1}){return me(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(r){return{data:null,error:r}}})}updateBucket(e,t){return me(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}emptyBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}}var Z=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{h(r.next(l))}catch(f){o(f)}}function c(l){try{h(r.throw(l))}catch(f){o(f)}}function h(l){l.done?i(l.value):s(l.value).then(a,c)}h((r=r.apply(n,e||[])).next())})};const Ms={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hs{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=s}uploadOrUpdate(e,t,r,s){return Z(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fs),s),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob!="undefined"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const c=this._removeEmptyFolders(t),h=this._getFinalPath(c),l=yield Ge(`${this.url}/object/${h}`,{method:e,body:i,headers:a});if(l.ok)return{data:{Key:h},error:null};{const f=yield l.json();return{data:null,error:f}}}catch(i){return{data:null,error:i}}})}upload(e,t,r){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return Z(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createSignedUrl(e,t){return Z(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);let s=yield Pe(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const i=`${this.url}${s.signedURL}`;return s={signedURL:i},{data:s,error:null,signedURL:i}}catch(r){return{data:null,error:r,signedURL:null}}})}download(e){return Z(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield gt(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){return{data:null,error:t}}})}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(t){return{data:null,error:t,publicURL:null}}}remove(e){return Z(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}list(e,t,r){return Z(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ms),t),{prefix:e||""});return{data:yield Pe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){return{data:null,error:s}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class Gs extends Ls{constructor(e,t={},r){super(e,t,r)}from(e){return new Hs(this.url,this.headers,e,this.fetch)}}var mt=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{h(r.next(l))}catch(f){o(f)}}function c(l){try{h(r.throw(l))}catch(f){o(f)}}function h(l){l.done?i(l.value):s(l.value).then(a,c)}h((r=r.apply(n,e||[])).next())})};const qs={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:Wt};class Js{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=_r(e),i=Object.assign(Object.assign({},qs),r);this.restUrl=`${s}/rest/v1`,this.realtimeUrl=`${s}/realtime/v1`.replace("http","ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.schema=i.schema,this.multiTab=i.multiTab,this.fetch=i.fetch,this.headers=Object.assign(Object.assign({},Wt),r==null?void 0:r.headers),this.auth=this._initSupabaseAuthClient(i),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},i.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get storage(){return new Gs(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const t=`${this.restUrl}/${e}`;return new js(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch})}rpc(e,t,{head:r=!1,count:s=null}={}){return this._initPostgRESTClient().rpc(e,t,{head:r,count:s})}removeAllSubscriptions(){return mt(this,void 0,void 0,function*(){const t=this.realtime.channels.slice().map(r=>this.removeSubscription(r).then(()=>({status:"fulfilled",value:{error:null}})).catch(s=>({status:"rejected",reason:s})));return Promise.all(t)})}removeSubscription(e){return new Promise((t,r)=>mt(this,void 0,void 0,function*(){const{error:s}=yield this._closeSubscription(e);if(s)return r({error:s});const i=this.getSubscriptions();if(i.length===0){const{error:a}=yield this.realtime.disconnect();if(a)return r({error:a})}const o=i.filter(a=>a.isJoined()).length;return t({data:{openSubscriptions:o},error:null})}))}_closeSubscription(e){return mt(this,void 0,void 0,function*(){return e.isClosed()?new Promise(t=>(this.realtime.remove(e),t({error:null}))):yield this._closeChannel(e)})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:s,headers:i,fetch:o}){const a={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gr({url:this.authUrl,headers:Object.assign(Object.assign({},i),a),autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:s,fetch:o})}_initRealtimeClient(e){return new Ps(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new Kr(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch})}_getAuthHeaders(){var e,t;const r=this.headers,s=(t=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=`Bearer ${s}`,r}_closeChannel(e){return new Promise((t,r)=>{e.unsubscribe().receive("ok",()=>t({error:null})).receive("error",s=>r({error:s})).receive("timeout",()=>r({error:"timed out"}))})}_listenForMultiTabEvents(){if(!this.multiTab||!Sr()||!(window==null?void 0:window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",e=>{var t,r,s;if(e.key===wr){const i=JSON.parse(String(e.newValue)),o=(r=(t=i==null?void 0:i.currentSession)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0,a=(s=this.auth.session())===null||s===void 0?void 0:s.access_token;o?!a&&o?this._handleTokenChanged("SIGNED_IN",o,"STORAGE"):a!==o&&this._handleTokenChanged("TOKEN_REFRESHED",o,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",o,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r==null?void 0:r.access_token,"CLIENT")});return e}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t),r=="STORAGE"&&this.auth.setAuth(t),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.removeAllSubscriptions(),r=="STORAGE"&&this.auth.signOut())}}const ai=(n,e,t)=>new Js(n,e,t),rn=ue(),ci=n=>F(rn.Provider,{get value(){return n.client},get children(){return n.children}}),li=()=>{const n=he(rn);if(!n)throw new Error("useSupabase must be used within a SupabaseContext.Provider");return n},sn=ue(),on=["title","meta"],ui=n=>{const e=new Map,[t,r]=U({});pn(()=>{const i=document.head.querySelectorAll('[data-sm=""]');Array.prototype.forEach.call(i,o=>o.parentNode.removeChild(o))});const s={addClientTag:(i,o)=>{if(on.indexOf(i)!==-1){r(c=>{const h=c[i]||[];return{...c,[i]:[...h,o]}});const a=e.has(i)?e.get(i)+1:0;return e.set(i,a),a}return-1},shouldRenderTag:(i,o)=>{if(on.indexOf(i)!==-1){const a=t()[i];return a&&a.lastIndexOf(a[o])===o}return!0},removeClientTag:(i,o)=>{r(a=>{const c=a[i];return c?(c[o]=null,{...a,[i]:c}):a})}};return F(sn.Provider,{value:s,get children(){return n.children}})},zs=(n,e)=>{const t=he(sn);if(!t)throw new Error("<MetaProvider /> should be in the tree");const{addClientTag:r,removeClientTag:s,addServerTag:i,shouldRenderTag:o}=t;let a=-1;return Ne(()=>{a=r(n,e.name||e.property),re(()=>s(n,a))}),F(ot,{get when(){return o(n,a)},get children(){return F(Jn,{get mount(){return document.head},get children(){return F(zn,st({component:n},e))}})}})},hi=n=>zs("title",n),an=Symbol("store-raw"),ze=Symbol("store-node"),Ws=Symbol("store-name");function cn(n,e){let t=n[ee];if(!t){Object.defineProperty(n,ee,{value:t=new Proxy(n,Xs)});const r=Object.keys(n),s=Object.getOwnPropertyDescriptors(n);for(let i=0,o=r.length;i<o;i++){const a=r[i];if(s[a].get){const c=s[a].get.bind(t);Object.defineProperty(n,a,{get:c})}}}return t}function We(n){return n!=null&&typeof n=="object"&&(n[ee]||!n.__proto__||n.__proto__===Object.prototype||Array.isArray(n))}function Ke(n,e=new Set){let t,r,s,i;if(t=n!=null&&n[an])return t;if(!We(n)||e.has(n))return n;if(Array.isArray(n)){Object.isFrozen(n)?n=n.slice(0):e.add(n);for(let o=0,a=n.length;o<a;o++)s=n[o],(r=Ke(s,e))!==s&&(n[o]=r)}else{Object.isFrozen(n)?n=Object.assign({},n):e.add(n);const o=Object.keys(n),a=Object.getOwnPropertyDescriptors(n);for(let c=0,h=o.length;c<h;c++)i=o[c],!a[i].get&&(s=n[i],(r=Ke(s,e))!==s&&(n[i]=r))}return n}function Ve(n){let e=n[ze];return e||Object.defineProperty(n,ze,{value:e={}}),e}function Ks(n,e){const t=Reflect.getOwnPropertyDescriptor(n,e);return!t||t.get||!t.configurable||e===ee||e===ze||e===Ws||(delete t.value,delete t.writable,t.get=()=>n[ee][e]),t}function Vs(n){if(St()){const e=Ve(n);(e._||(e._=yt()))()}return Reflect.ownKeys(n)}function yt(){const[n,e]=U(void 0,{equals:!1,internal:!0});return n.$=e,n}const Xs={get(n,e,t){if(e===an)return n;if(e===ee)return t;const r=n[e];if(e===ze||e==="__proto__")return r;const s=We(r);if(St()&&(typeof r!="function"||n.hasOwnProperty(e))){let i,o;s&&(i=Ve(r))&&(o=i._||(i._=yt()),o()),i=Ve(n),o=i[e]||(i[e]=yt()),o()}return s?cn(r):r},set(){return!0},deleteProperty(){return!0},ownKeys:Vs,getOwnPropertyDescriptor:Ks};function ln(n,e,t){if(n[e]===t)return;const r=Array.isArray(n),s=n.length,i=t===void 0,o=r||i===e in n;i?delete n[e]:n[e]=t;let a=Ve(n),c;(c=a[e])&&c.$(),r&&n.length!==s&&(c=a.length)&&c.$(),o&&(c=a._)&&c.$()}function Ys(n,e){const t=Object.keys(e);for(let r=0;r<t.length;r+=1){const s=t[r];ln(n,s,e[s])}}function Re(n,e,t=[]){let r,s=n;if(e.length>1){r=e.shift();const o=typeof r,a=Array.isArray(n);if(Array.isArray(r)){for(let c=0;c<r.length;c++)Re(n,[r[c]].concat(e),[r[c]].concat(t));return}else if(a&&o==="function"){for(let c=0;c<n.length;c++)r(n[c],c)&&Re(n,[c].concat(e),[c].concat(t));return}else if(a&&o==="object"){const{from:c=0,to:h=n.length-1,by:l=1}=r;for(let f=c;f<=h;f+=l)Re(n,[f].concat(e),[f].concat(t));return}else if(e.length>1){Re(n[r],e,[r].concat(t));return}s=n[r],t=[r].concat(t)}let i=e[0];typeof i=="function"&&(i=i(s,t),i===s)||r===void 0&&i==null||(i=Ke(i),r===void 0||We(s)&&We(i)&&!Array.isArray(i)?Ys(s,i):ln(n,r,i))}function fi(n,e){const t=Ke(n||{}),r=cn(t);function s(...i){le(()=>Re(t,i))}return[r,s]}export{Zs as F,ui as M,oi as N,Jn as P,si as R,ot as S,hi as T,fi as a,X as b,U as c,It as d,cr as e,fn as f,F as g,ii as h,Le as i,ai as j,ci as k,Qs as l,ri as m,ei as n,pn as o,re as p,dn as q,ni as r,Un as s,Nn as t,li as u,Ut as v,ti as w,x};
